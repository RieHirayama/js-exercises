## 問題 17.4 🖋️

npm install すると作成される package-lock.json はどのような役割を持つのか。  
また、リポジトリにコミットすべきか、について説明しなさい。  

## 回答
### package-lock.json の役割
package-lock.json は、npm は依存関係の正確なスナップショット。  
依存解決結果を固定し、再現性を保証するファイル。  
package.json には書かれている依存は許可するバージョンに幅がある場合があるため、実際にインストールされるバージョンは時期によって変わる可能性がある。  
package-lock.json には、  
- 実際にインストールされた正確なバージョン
- 依存パッケージのさらに依存（依存の依存）
- 取得元URL
- integrity（改ざん検知用ハッシュ）
などが記録される。  
これにより、  
いつ・誰が・どの環境で npm install を実行しても同じ依存構成を再現できる  

### package.json との違い
package.jsonは依存関係の「宣言」。  
package-lock.jsonは依存関係の「確定版記録」。  

### リポジトリにコミットすべきか
アプリケーション開発ではコミットすべき。  
理由：  
- チーム全員が同じ依存環境を使える
- CI/CD環境で同じ構成を再現できる
- npm install の速度が向上する
- 予期しないバージョンアップ事故を防げる

ただし、ライブラリ開発の場合は、利用側が依存を解決する、lockに縛られすぎると検証範囲が狭まるという理由で、コミットしない方針を取ることもある。
